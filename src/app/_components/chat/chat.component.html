<div class="feed">
  <div *ngFor="let message of chat.messages" class="message">
    <app-message-details [chatMessage]=message [chatId]="chatId"></app-message-details>
  </div>
  <div>
    <form class="ui form" [formGroup]="replyMessage" (ngSubmit)="reply()">   <!-- https://medium.com/aviabird/complete-angular2-guide-reactive-forms-in-depth-part-1-21a8e2428904-->
      <input class="ta-main-input"
       type="text"
       id="replySubject"
       placeholder="Betreff"
       formControlName="subject"/>
       <div class="divider"></div>
       <input class="ta-main-input"
       type="text"
       id="replyText"
       placeholder="Nachricht"
       formControlName="text"/>
       <div class="divider"></div>
       <input type="checkbox" id="emailCheckbox" checked="checked" formControlName="isEmailChecked" >
       <label for="emailCheckbox">Diese Nachricht auch als Email an {{ otherUser.name }} versenden.</label><br>

       <div class="divider" style="display: table;"></div>
       
       <div *ngIf="replyMessage.controls['text'].invalid && !replyMessage.controls['text'].pristine" class="alert alert-danger" style="display: table !important;"
       >  <!-- pristine: The field has not been modified yet || invalid: The field content is not valid-->
        <div *ngIf="replyMessage.controls['text'].errors.required">
          <p>Das Feld Nachricht darf nicht leer sein.</p>
        </div>
    </div>
       <button class="btn btn-success" [disabled]="replyMessage.pristine || replyMessage.invalid" >Senden</button>  
    </form>
    
  </div>

  
</div>

<a
  type="button"
  mdbBtn
  color="info"
  class="waves-effect mb-4"
  (click)="frame.show()"
  mdbWavesEffect
  >Add event
</a>

<!--Modal-->
<div
  mdbModal
  #frame="mdbModal"
  class="modal fade top"
  id="frameModalTop"
  tabindex="-1"
  role="dialog"
  aria-labelledby="myModalLabel"
  aria-hidden="true"
  style="overflow-y: auto"
>
  <!--Dialog-->
  <div class="modal-dialog modal-notify modal-info" role="document">
    <!--Content-->
    <div class="modal-content">
      <!--Header-->
      <div class="modal-header text-center">
        <h4 class="modal-title white-text w-100 font-weight-bold py-2">
          Schedule appointment
        </h4>
        <button
          type="button"
          class="close"
          data-dismiss="modal"
          aria-label="Close"
          (click)="frame.hide()"
        >
          <span aria-hidden="true" class="white-text">&times;</span>
        </button>
      </div>

      <!--Body-->
      <div class="modal-body">
        Modal Body
      </div>
      <!--/.Body-->

      <!--Footer-->
      <div class="modal-footer justify-content-center">
        <button
          type="button"
          mdbBtn
          color="info"
          class="waves-effect"
          mdbWavesEffect
        >
          Add
        </button>
      </div>
      <!--Footer-->
    </div>
    <!--/.Content-->
  </div>
  <!--/.Dialog-->
</div>
<!--/.Modal-->